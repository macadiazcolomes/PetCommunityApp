<!--
  Generated template for the ServicesDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-toolbar color="primary">
      <ion-buttons left>
        <button ion-button icon-only (click)="close()">
          <ion-icon name="close"></ion-icon>
        </button>
      </ion-buttons>
      <ion-title>{{ 'SERVICE_DETAIL.TITLE' | translate }}</ion-title>
      <ion-buttons right>
        <button ion-button icon-only *ngIf="mode!=='view'" (click)="save()" [disabled]="serviceDetailForm.invalid" >
          <ion-icon name="checkmark" ></ion-icon>
        </button>
        <button ion-button icon-only *ngIf="mode==='view' " (click)="edit()">
            <ion-icon  name="create"></ion-icon>
        </button>
      </ion-buttons>
    </ion-toolbar>

</ion-header>


<ion-content padding>
  <form novalidate [formGroup]="serviceDetailForm">
      <ion-row>
        <ion-col col-4></ion-col>
        <ion-col col-4>
          <img src="assets/imgs/avatar.png">
        </ion-col>
        <ion-col col-4>
          <ion-fab top left #fab *ngIf="mode!=='view'">
            <button ion-fab mini>
              <ion-icon name="create"></ion-icon>
            </button>
            <ion-fab-list>
              <button ion-fab>
                <ion-icon name="images"></ion-icon>
              </button>
              <button ion-fab>
                <ion-icon name="camera"></ion-icon>
              </button>
            </ion-fab-list>
          </ion-fab>
        </ion-col>
      </ion-row>

      <ion-list>
        <ion-item>
          <ion-label floating>{{ 'SERVICE_DETAIL.BUSINESS_NAME_LABEL' | translate }}</ion-label>
          <ion-input type="text" [readonly]="mode==='view'" formControlName="serviceBusinessName"></ion-input>
        </ion-item>
        <ng-container *ngFor="let message of errorMessages.serviceBusinessName">
          <div class="error" *ngIf="serviceDetailForm.get('serviceBusinessName').hasError(message.type) && serviceDetailForm.get('serviceBusinessName').dirty && serviceDetailForm.get('serviceBusinessName').touched">
            {{ message.message | translate }}
          </div>
        </ng-container>

        <ion-item>
          <ion-label floating>{{ 'SERVICE_DETAIL.TYPE_LABEL' | translate }}</ion-label>
          <ion-select [disableControl]="mode==='view'" formControlName="serviceType">
            <ion-option *ngFor="let type of serviceTypes" [value]="type">{{ type | serviceTypeCode | translate }}</ion-option>
          </ion-select>
        </ion-item>
        <ng-container *ngFor="let message of errorMessages.serviceType">
          <div class="error" *ngIf="serviceDetailForm.get('serviceType').hasError(message.type) && serviceDetailForm.get('serviceType').dirty && serviceDetailForm.get('serviceType').touched">
            {{ message.message | translate }}
          </div>
        </ng-container>

        <ion-item>
          <ion-label floating>{{ 'SERVICE_DETAIL.PHONE_LABEL' | translate }}</ion-label>
          <ion-input type="tel" [readonly]="mode==='view'" formControlName="servicePhone"></ion-input>
        </ion-item>
        <ng-container *ngFor="let message of errorMessages.servicePhone">
          <div class="error" *ngIf="serviceDetailForm.get('servicePhone').hasError(message.type) && serviceDetailForm.get('servicePhone').dirty && serviceDetailForm.get('servicePhone').touched">
            {{ message.message | translate }}
          </div>
        </ng-container>

        <ion-item>
          <ion-label floating>{{ 'SERVICE_DETAIL.ADDRESS_LABEL' | translate }}</ion-label>
          <ion-input type="text" [readonly]="mode==='view'" formControlName="serviceAddress"></ion-input>
        </ion-item>
        <ng-container *ngFor="let message of errorMessages.serviceAddress">
          <div class="error" *ngIf="serviceDetailForm.get('serviceAddress').hasError(message.type) && serviceDetailForm.get('serviceAddress').dirty && serviceDetailForm.get('serviceAddress').touched">
            {{ message.message | translate }}
          </div>
        </ng-container>


        <ion-item>
          <ion-label floating>{{ 'SERVICE_DETAIL.NOTES_LABEL' | translate }}</ion-label>
          <ion-textarea type="text" [readonly]="mode==='view'" formControlName="serviceNotes"></ion-textarea>
        </ion-item>
        <ng-container *ngFor="let message of errorMessages.serviceNotes">
          <div class="error" *ngIf="serviceDetailForm.get('serviceNotes').hasError(message.type) && serviceDetailForm.get('serviceNotes').dirty && serviceDetailForm.get('serviceNotes').touched">
            {{ message.message | translate }}
          </div>
        </ng-container>
        
        <ion-item-divider color="light">{{ 'SERVICE_DETAIL.SOCIAL_MEDIA_LABEL' | translate }}</ion-item-divider>
        <social-media-form [parent]="serviceDetailForm" [socialMedia]="service?.social_media"></social-media-form>

      </ion-list>
  </form>
</ion-content>
